<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>Starter</title>
	<style type="text/css">
		/* TODO */
		table {
			border-collapse: collapse;
		}
		td {
			border: 1px solid black;
			padding: 5px;
		}
	</style>
	</head>
<body>
	<div id="calculation">0</div>
	<button id="clear">Clear</button>

	<table>
		<tbody id="gags">
		
		</tbody>
	</table>

	<script src="gags.js"></script>
	<script type="text/javascript">
		function clearCalc(event) {
			let div = document.getElementById("calculation");
			div.textContent = 0;
		}

		clear = document.getElementById("clear");
		clear.addEventListener("click", clearCalc);

		function createTable(){
			let buttons = []
			for (let pairObj of Object.entries(gags)) {
				keyObj = pairObj[0];
        		valueObj = pairObj[1];
				let row = document.createElement("tr");
				for (let pair of Object.entries(valueObj)) {
					key = pair[0];
        			value = pair[1];
					let cell = document.createElement("td");
					let button = document.createElement("button");
					button.textContent = value.name
					button.id = keyObj
					button.className = key
					buttons.push(button)
					cell.appendChild(button);
					row.appendChild(cell);
				}
				document.getElementById("gags").appendChild(row);
			}
			return buttons;
		}

		let buttons = createTable();
		for (let button of buttons) {
			button.addEventListener("click", () => {
				let div = document.getElementById("calculation");
				div.textContent = parseInt(div.textContent) + gags[button.id][button.className]["maximum-dmg"];
			});
		}
	</script>


</body></html>